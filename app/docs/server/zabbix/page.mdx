---
title: Zabbix
asIndexPage: true
---

import { Steps } from 'nextra/components'

# Zabbix

คือซอฟต์แวร์โอเพนซอร์สที่ใช้สำหรับเฝ้าระวังระบบโครงสร้างพื้นฐานด้าน IT โดยเฉพาะ หน้าที่หลักของ Zabbix คือการ ติดตามประสิทธิภาพ สถานะ และความพร้อมใช้งาน ของอุปกรณ์และบริการต่าง ๆ ในระบบของคุณอย่างต่อเนื่อง ไม่ว่าจะเป็นเซิร์ฟเวอร์ อุปกรณ์เครือข่าย แอปพลิเคชัน หรือฐานข้อมูล

- **Version:** 7.0 LTS
- **OS:** Ubuntu 24.04 LTS
- **Zabbix components:** Server, Frontend, Agent 2
- **Database:** PostgreSQL
- **Web Server:** Nginx

<br/>

## ขั้นตอนการติดตั้ง

<Steps>

### อัปเดตระบบ

```bash
sudo apt update && sudo apt upgrade -y
```

### สำหรับเครื่องที่เป็น LXC

```bash
sudo sed -i 's/^# \\(en_US\\.UTF-8 UTF-8\\)$/\\1/' /etc/locale.gen && sudo locale-gen && sudo update-locale LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=en_US.UTF-8
```

### ติดตั้ง Dependencies

```bash
sudo apt install -y wget curl gnupg2
```

### เพิ่ม Zabbix Repository

```bash
wget https://repo.zabbix.com/zabbix/7.0/ubuntu/pool/main/z/zabbix-release/zabbix-release_latest_7.0+ubuntu24.04_all.deb && sudo dpkg -i zabbix-release_latest_7.0+ubuntu24.04_all.deb && sudo apt update && sudo rm -f zabbix-release_latest_7.0+ubuntu24.04_all.deb
```

### ติดตั้ง Zabbix Server, Frontend, Agent 2

```bash
sudo apt install -y zabbix-server-pgsql zabbix-frontend-php php8.3-pgsql zabbix-nginx-conf zabbix-sql-scripts zabbix-agent2
```

### ติดตั้ง Zabbix Agent 2 Plugins

```bash
sudo apt install -y zabbix-agent2-plugin-mongodb zabbix-agent2-plugin-mssql zabbix-agent2-plugin-postgresql
```

### ติดตั้ง PostgreSQL

- เพิ่ม PostgreSQL Apt Repository

```bash
sudo apt install -y postgresql-common
sudo /usr/share/postgresql-common/pgdg/apt.postgresql.org.sh
```

เมื่อเจอข้อความแบบนี้ ให้กดปุ่ม `Enter` ได้เลย:

```bash
This script will enable the PostgreSQL APT repository on apt.postgresql.org on
your system. The distribution codename used will be noble-pgdg.

Press Enter to continue, or Ctrl-C to abort.

```

- ติดตั้ง PostgreSQL เวอร์ชัน 17

```bash
sudo apt install -y postgresql-17
```

### เตรียมฐานข้ฮมูล

- สร้างผู้ใช้สำหรับจัดการฐานข้อมูล

```bash
sudo -u postgres createuser --pwprompt zabbix
```

- สร้างฐานข้อมูล Zabbix

```bash
sudo -u postgres createdb -O zabbix zabbix
```

### นำเข้า Schema

```bash
zcat /usr/share/zabbix-sql-scripts/postgresql/server.sql.gz | sudo -u zabbix psql zabbix
```

### แก้ไขไฟล์ zabbix_server.conf

```
sudo nano /etc/zabbix/zabbix_server.conf
```

เพิ่มบรรทัด `DBPassword` ตามตัวอย่างนี้

```bash filename="/etc/zabbix/zabbix_server.conf"
### Option: DBPassword
#       Database password.
#       Comment this line if no password is used.
#
# Mandatory: no
# Default:
# DBPassword=

DBPassword=<your_db_password>
```

> อย่าลืมเปลี่ยน `<your_db_password>` เป็นรหัสผ่านของคุณ

### ปิดใช้งานหน้าเว็บ Default ของ Nginx

```bash
sudo rm -f /etc/nginx/sites-enabled/default
```

### รีสตาร์ทและเปิดใช้งานเซอร์วิส

```bash
systemctl restart zabbix-server zabbix-agent2 nginx php8.3-fpm
systemctl enable zabbix-server zabbix-agent2 nginx php8.3-fpm
```

</Steps>

<br/>

## การตั้งค่าเมื่อล็อกอินเข้าสู่ระบบครั้งแรก

<Steps>

### เปิดเว็บเบราว์เซอร์และพิมพ์ URL ต่อไปนี้

```
http://ip_address
```

### คลิก Next step

![zabbix-install-1](/images/zabbix/install-1.png)

### Check of pre-requisites

- หากสถานะทั้งหมดเป็น OK ให้คลิก Next step

![zabbix-install-2](/images/zabbix/install-2.png)

### Configure DB connection

- ให้กรอกรหัสผ่านของฐานข้อมูลที่ตั้งค่าไว้ลงไป

![zabbix-install-3](/images/zabbix/install-3.png)

### Settings

- เลือก Default time zone

![zabbix-install-4](/images/zabbix/install-4.png)

### Pre-installation summary

- ตรวจเช็คอีกครั้งว่ากรอกข้อมูลครบหรือยัง จากนั้นคลิก Next step

![zabbix-install-5](/images/zabbix/install-5.png)

### Install

- คลิก Finish

![zabbix-install-6](/images/zabbix/install-6.png)

### ล็อกอินเข้าสู่ระบบ (Default credentials)

- Username: Admin
- Password: zabbix

![zabbix-install-7](/images/zabbix/install-7.png)
</Steps>